enable_width_control(),enable_widget_fold_control();function enable_width_control(){let e=document.getElementsByClassName("width-control");for(let t of e){let n=t.parentElement;t.onmousehover,t.onmousedown=function(o){let[i,a]=[o.clientX,n.offsetWidth],e=parseInt(n.style.minWidth)||160,s=parseInt(n.style.maxWidth)||640,r=t.style.backgroundColor;t.style.backgroundColor=window.getComputedStyle(t,":hover").backgroundColor,document.documentElement.style.userSelect='none',document.onmousemove=function(o){let r=o.clientX,t=r-i+a;t>s?t=s:t<e&&(t=e),n.style.width=t+'px'},document.onmouseup=function(){t.style.backgroundColor=r,document.documentElement.style.userSelect='auto',document.onmousemove=null,document.onmouseup=null}}}}function enable_widget_fold_control(){let e=document.getElementsByClassName("widget-fold-control");for(let s of e){let o=s.parentElement,t=o.nextElementSibling,n=t.clientHeight,i=t.clientWidth;t.style.height=n+'px',o.onclick=function(){t.style.height==='0px'?(s.style.transform='rotate(0deg)',t.style.height=n+'px'):(s.style.transform='rotate(-90deg)',n=t.clientHeight,t.style.height='0px')},new ResizeObserver(e=>{if(e[0].contentRect.width!==i&&t.style.height!=='0px'){if(t.style.height='',t.clientHeight===0){t.style.height=n+'px';return}n=t.clientHeight,t.style.height=n+'px',i=e[0].contentRect.width}}).observe(t)}}enable_dark_toggle(),enable_layout_toggle();function enable_dark_toggle(){let e=document.getElementById("toggler-dark"),t=localStorage.getItem('hero-dark');t==='true'&&!document.documentElement.classList.contains('dark')?(document.documentElement.classList.toggle('dark'),e.firstElementChild.classList.toggle('icon-Daytimemode-fill'),e.firstElementChild.classList.toggle('icon-Daytimemode')):t===null&&localStorage.setItem('hero-dark','false'),e.onclick=function(){document.documentElement.classList.toggle('dark'),e.firstElementChild.classList.toggle('icon-Daytimemode-fill'),e.firstElementChild.classList.toggle('icon-Daytimemode'),localStorage.getItem('hero-dark')==='true'?localStorage.setItem('hero-dark','false'):localStorage.setItem('hero-dark','true')}}function enable_layout_toggle(){let t=document.getElementById("toggler-layout"),e=localStorage.getItem('hero-layout');e==='reading'&&!document.documentElement.classList.contains('layout-reading')?document.documentElement.classList.toggle('layout-reading'):e===null&&localStorage.setItem('hero-layout','default'),t.onclick=function(){document.documentElement.classList.toggle('layout-reading'),localStorage.getItem('hero-layout')==='reading'?localStorage.setItem('hero-layout','default'):localStorage.setItem('hero-layout','reading')}}enable_search();var fuse=null;function enable_search(){let e=document.getElementById("search-input"),t=document.getElementById("search-result"),s=document.getElementById("search-result-mask"),o=document.getElementById("search-result-content"),n=null;loadSearch(),s.onclick=function(){t.classList.remove("active")},e.onfocus=function(){t.classList.add("active")},e.onkeyup=function(t){if(!t.isComposing&&t.key==="Enter"){let t=e.value.trim();n!==t&&(executeSearch(t,o),n=t)}}}function executeSearch(t,n){let e='';if(fuse===null)e='<span>搜索工具暂不可用，请稍后重试。</span>';else{let n=fuse.search(t);if(n.length===0)e='<span>无匹配结果</span>';else for(let o in n.slice(0,7)){let t=n[o].item,s='';for(let e in t.tags)s=s+`<span class="entry-tag">${t.tags[e]}</span>`;e=e+`
                <div class='result-entry flex-single-col'>
                    <a href="${t.permalink}" class="entry-title">${t.title}</a>
                    <span class="entry-summary">${t.summary}</span>
                    <span class="entry-tags">
                        ${s}
                    </span>
                </div>
                `}}n.innerHTML=e}function loadSearch(){fetchJSONFile('/index.json',function(e){var t={shouldSort:!0,location:0,distance:100,threshold:.25,minMatchCharLength:1,keys:['title','summary']};fuse=new Fuse(e,t)})}function fetchJSONFile(n,t){var e=new XMLHttpRequest;e.onreadystatechange=function(){if(e.readyState===4&&e.status===200){var n=JSON.parse(e.responseText);t&&t(n)}},e.open('GET',n),e.send()}